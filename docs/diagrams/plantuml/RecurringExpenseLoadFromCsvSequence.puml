@startuml
skinparam backgroundColor #FFFFFF
skinparam sequence {
    ArrowColor #2C3E50
    LifeLineBorderColor #2C3E50
    ParticipantBorderColor #2C3E50
    ParticipantBackgroundColor #FFFFFF
}

participant ":LoadCommand" as LC
participant ":RecurringExpenseList" as REL
participant ":CsvUtils" as CSV
participant ":RecurringExpense" as RE
participant ":LocalDate" as LD

LC -> REL: loadFromCsv(filePath)
activate REL

ref over REL, CSV : Retrieve recurring expenses

REL -> LD: now()
activate LD
LD --> REL: currentDate
deactivate LD

loop for each RecurringExpense
    REL -> RE: getFrequency()
    activate RE
    RE --> REL: frequency
    deactivate RE
    
    REL -> RE: getlastAddedDate()
    activate RE
    RE --> REL: lastAddedDate
    deactivate RE
    
    alt frequency == "daily"
        REL -> RE: addDailyExpense(lastAddedDate, currentDate)
        activate RE
        RE --> REL
        deactivate RE
    else frequency == "weekly"
        REL -> RE: addWeeklyExpense(lastAddedDate, currentDate)
        activate RE
        RE --> REL
        deactivate RE
    else frequency == "monthly"
        REL -> RE: addMonthlyExpense(lastAddedDate, currentDate)
        activate RE
        RE --> REL
        deactivate RE
    end
end

REL --> LC
deactivate REL
@enduml